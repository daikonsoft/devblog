<!DOCTYPE html>
<html>
<head>
    <title>[Post Title] - DaikonScramble Devlog</title>
    <link rel="stylesheet" href="./css/devlog.css">
    <link rel="alternate" type="application/rss+xml" title="DaikonScramble Devlog RSS" href="/feed.xml">
    <link rel="alternate" type="application/rss+xml" title="DaikonScramble Devlog" href="/feed.xml">

</head>

<body class="crt">

<div class="container">

    <!-- === TOP BAR === -->
    <div class="bar">
        <span>DaikonScramble Devlog</span>
    </div>
    <div class="bunny-button"><img src="./assets/bunny-button.png" alt="Bunny Icon"></div>

    <!-- === MAIN GRID === -->
    <div class="main">
        <div class="navigation">
            <div class="title">Navigation</div>
            <div class="button"><a href="./index.html">Home</a></div>
            <div class="button"><a href="./devlog.html">Devlog</a></div>
            <div class="button"><a href="./assets.html">Assets</a></div>
        </div>

        <!-- === POST HISTORY AREA === -->
        <div class="post-history">

            <div class="title" style="padding:10px; text-align:center; color:var(--header-color); font-weight:bold;">
                Post History
            </div>

            <div style="padding: 10px; line-height: 1.6;">

                <p><a href="#" data-log="./logs/devlog-0-1.html">Devlog 0.1 - NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
                <p><a href="#">Devlog 0.1 — NEHHHHHHHHHHHHHHHHHHH</a></p>
            </div>

        </div>

        <!-- === CONTENT AREA === -->
        <div class="content">

            

        </div>
    </div>

    <!-- === FOOTER === -->
    <div class="footer">
        DaikonSoft © 2025
    </div>

</div>
<script>
document.querySelector('.bunny-button').addEventListener('click', () => {
    document.body.classList.toggle('no-fx');
});

document.querySelectorAll('.post-history a[data-log]').forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const logFile = link.getAttribute('data-log')
            .replace("./logs/", "")
            .replace(".html", "");
        loadDevlog(logFile);
    });
});


async function loadDevlog(logName) {
    const url = `/logs/${logName}.html`;

    try {
        const response = await fetch(url);
        const text = await response.text();

        const parser = new DOMParser();
        const doc = parser.parseFromString(text, "text/html");

        const newContent = doc.querySelector('.content');
        const container = document.querySelector('.content');

        container.innerHTML = newContent.innerHTML;

        document.title = doc.title || "DaikonScramble Devlog";

        history.pushState({log: logName}, "", `?log=${logName}`);
    } catch (err) {
        console.error("Failed to load devlog:", err);
    }
}

const params = new URLSearchParams(window.location.search);
const initialLog = params.get("log");
if (initialLog) loadDevlog(initialLog);

window.onpopstate = (event) => {
    if (event.state && event.state.log) {
        loadDevlog(event.state.log);
    }
};

</script>
</body>
</html>
